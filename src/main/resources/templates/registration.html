<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand display-4" style="font-size: 2rem;">Apollo IT SCHOOL</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
            <li class="nav-item">
                <a class="btn btn-warning card-btn me-2 nav-link-back" th:href="@{/home}"
                   onmouseover="this.style.color='white';" onmouseout="this.style.color='';">Powrót</a>
            </li>
        </ul>
    </div>
    </div>
</nav>
<nav class="navbar navbar-expand-lg navbar-dark bg-white"></nav>
<br/>
<br/>

<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <div class="login-container">
                <h2 class="text-center mb-4">Rejestracja</h2>
                <div class="card-body">
                    <form th:action="@{/register}" method="post" th:object="${userModel}">
                        <div class="alert alert-danger" th:if="${#fields.hasErrors('username')}"
                             th:errors="*{username}"></div>
                        <div class="mb-3">
                            <label class="form-label" for="name">Imię:</label>
                            <input type="text"
                                   id="name" name="name"
                                   th:field="*{name}"
                                   class="form-control registration-input"
                                   placeholder="Wprowadź imię" required/>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="surname">Nazwisko:</label>
                            <input type="text"
                                   id="surname" name="surname"
                                   th:field="*{surname}"
                                   class="form-control registration-input"
                                   placeholder="Wprowadź nazwisko" required/>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="email">Email:</label>
                            <input type="email"
                                   id="email" name="email"
                                   class="form-control registration-input"
                                   placeholder="Wprowadź adres email" required/>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="username">Nazwa użytkownika:</label>
                            <input type="text"
                                   id="username" name="username"
                                   class="form-control registration-input"
                                   placeholder="Wprowadź nazwę użytkownika" required/>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="password">Hasło:</label>
                            <input type="password"
                                   id="password" name="password"
                                   class="form-control registration-input"
                                   placeholder="Wprowadź hasło" required/>
                            <!--                            required pattern="(?=.*\d)(?=.*[a-zA-Z]).{8,}"-->
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="confirmPassword">Powtórz hasło:</label>
                            <input type="password"
                                   id="confirmPassword" name="confirmPassword"
                                   class="form-control registration-input"
                                   placeholder="Powtórz hasło"
                                   oninput="checkPasswordMatch()"
                                   oninvalid="this.setCustomValidity('Hasła nie są identyczne')"/>
                            <!-- Komunikat dla niewłaściwego hasła -->
                        </div>
                        <div class="mb-3">
                            <button type="submit" class="btn btn-warning registration-btn">Zarejestruj się</button>
                        </div>
                        <div class="register-text">
                            Masz już konto? <a href="link_do_strony_logowania" th:href="@{/login}"
                                               class="register-link">Zaloguj się</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function checkPasswordMatch() {
        let newPassword = document.getElementById("password").value;
        let confirmPassword = document.getElementById("confirmPassword").value;

        if (newPassword !== confirmPassword) {
            document.getElementById("confirmPassword").setCustomValidity("Hasła nie są identyczne");
        } else {
            document.getElementById("confirmPassword").setCustomValidity("");
        }
    }
</script>
</body>
</html>